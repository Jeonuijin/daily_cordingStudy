<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <title>table 동적 생성(실습)_코드분리</title>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script> 
<script>
    /* 행과 열을 입력 받아 테이블 생성하기
    val()메소드 : value값 읽어오기
    1. <테이블생성> 버튼에 이벤트 연결
    2. input 태그 값을 읽어오기(행, 열)
    3. 행, 열 값에 맞추어 table 작성
    4. 원하는 위치(#myDiv)에 table 태그 추가 (html()사용)
    *******************/
    //반복문 tr만들기 반복, td만들기 반복
    
    
    $().ready(function(){
        initEvent(); //초기화 작업(이벤트연결)
    });
    
        function initEvent () {
            //1. <테이블생성> 버튼에 이벤트 연결
            $("#btn").on("click",btnMakeTable);    
        }
            
        function btnMakeTable(){
            //2. input 태그 값을 읽어오기(행, 열)
            let rowVal = $("#row").val();
            let colVal = $("#col").val();
            
            //3. 행, 열 값에 맞추어 table 작성
            let table = makeTable(rowVal, colVal);
            
            //4. 원하는 위치(#myDiv)에 table 태그 추가 (html()사용)
            $("#myDiv").html(table); 
        }; 
    
    //테이블 작성하는 기능
        function makeTable(rowVal, colVal) {
            let table = "<table>";
            
            table += "<thead>";
            table += "<tr>";
            for (let i = 0; i < rowVal ; i++) {
                table += "<th>항목"+(i+1)+"</th>";
            }
            table += "</tr>";
            table += "</thead>";
            
            table += "<tbody>";
            
            for (let idx = 0; idx < colVal ; idx++){
                table += "<tr>";
                for (let i = 0; i < rowVal ; i++) {
                    table += "<td>데이터"+(idx+1)+", "+(i+1)+"</td>";
                }
                table += "</tr>";
            }
            table += "</tbody>";
            table += "</table>"; 
        
            return table;
        }
</script>
<style>
    table, th, td { border: 1px solid black; }
    #myDiv { background-color: lightgray; }
    th { background-color: lightpink; }
</style>
</head>
<body>
    <h2>테이블 동적 생성</h2>
    <input type="text" id="row" value="2">행 &nbsp;
    <input type="text" id="col" value="3">열 &nbsp;
    <button id="btn">테이블 생성</button>
    <hr>
    <div id="myDiv">
        동적으로 테이블 생성할 영역
    </div>
    <hr><hr>
    
    <table>
        <thead>
            <tr>
                <th>항목1</th>
                <th>항목2</th>
                <th>항목3</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>데이터 1, 1</td>
                <td>데이터 1, 2</td>
                <td>데이터 1, 3</td>
            </tr>
            <tr>
                <td>데이터 2, 1</td>
                <td>데이터 2, 2</td>
                <td>데이터 2, 3</td>
            </tr>
        </tbody>
    
    </table>
</body>
</html>