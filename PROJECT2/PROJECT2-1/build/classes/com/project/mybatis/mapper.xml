<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="adminBook">

	<!-- 상품등록 -->
	<insert id="insert" parameterType="bookVO">
		INSERT INTO BOOK
   			 (Book_ID, BOOKNAME, PRICE, PUBLISHER, PUB_DATE, 
   			 AUTHOR, GRADE_AVG, BOOK_CNT, ORDER_CNT, DETAILS, BOOK_IMAGE, CATEGORY)
		VALUES (BOOKID_SEQ.NEXTVAL, #{bookName}, #{price}, #{publisher}, #{pubDate}, 
    		#{author}, #{gradeAvg}, #{bookCnt}, #{orderCnt}, #{details}, #{bookImage}, #{category})
	</insert>

	<!-- 전체 책 목록 조회 -->
	<select id="list" resultType="bookVO">
		SELECT BOOK_ID, BOOKNAME, PRICE, PUBLISHER,  AUTHOR, DETAILS, BOOK_IMAGE, CATEGORY FROM Book ORDER BY Book_ID
	</select>
	
	<!-- 책 아이디로 책정보 조회 -->
	<select id="selectBookId" parameterType="string" resultType="bookVO">
		SELECT *
		FROM BOOK
		WHERE BOOK_ID = #{bookId}

	</select>
	
	<!-- 책 정보 수정 -->
	<select id="update" resultType="bookVO">
			UPDATE BOOK
		SET
	    BOOKNAME = #{bookName},
	    PRICE = #{price},
	    PUBLISHER = #{publisher},
	    PUB_DATE = #{pubDate},
	    AUTHOR = #{author},
	    BOOK_CNT = #{bookCnt},
	    DETAILS = #{details},
	    BOOK_IMAGE = #{bookImage},
	    CATEGORY = #{category}
		WHERE Book_ID = #{bookId}
	</select>
</mapper>






